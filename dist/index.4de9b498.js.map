{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-8d643c788d4e835a.js","js/script.js","js/App.js","js/UINotification.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","js/models/Settings.js","js/Event.js","js/Dom.js","js/Sidebar.js","js/debounce.js","js/models/Chat.js","js/models/BaseModel.js","js/Database.js","js/Migrations.js","js/models/ChatMessage.js","js/AppController.js","js/ChatList.js","js/ChatListItem.js","js/DragAndDrop.js","js/DownloadChatsButton.js","js/models/LocalStorage.js","js/CopyButton.js","js/OllamaApi.js","js/DownloadButton.js","js/DropDownMenu.js","js/SettingsDialog.js","js/Modal.js","js/ModelsList.js","js/FilteredList.js","js/List.js","js/UIElement.js","js/DOM.js","js/models/Models.js","js/ChatSettingsDialog.js","js/ChatArea.js","js/AtSymbolListener.js","js/ExportChat.js","js/Hoverable.js","js/ChatTitle.js","js/ChatForm.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";module.bundle.HMR_BUNDLE_ID = \"2751c5c64de9b498\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, chrome, browser, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: {|[string]: mixed|};\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData[moduleName],\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData[moduleName] = undefined;\n}\nmodule.bundle.Module = Module;\nmodule.bundle.hotData = {};\nvar checkedAssets /*: {|[string]: boolean|} */, assetsToDispose /*: Array<[ParcelRequire, string]> */, assetsToAccept /*: Array<[ParcelRequire, string]> */;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\nfunction getPort() {\n  return HMR_PORT || location.port;\n}\n\n// eslint-disable-next-line no-redeclare\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !['localhost', '127.0.0.1', '0.0.0.0'].includes(hostname) ? 'wss' : 'ws';\n  var ws;\n  try {\n    ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/');\n  } catch (err) {\n    if (err.message) {\n      console.error(err.message);\n    }\n    ws = {};\n  }\n\n  // Web extension context\n  var extCtx = typeof browser === 'undefined' ? typeof chrome === 'undefined' ? null : chrome : browser;\n\n  // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n  var supportsSourceURL = false;\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  }\n\n  // $FlowFixMe\n  ws.onmessage = async function (event /*: {data: string, ...} */) {\n    checkedAssets = {} /*: {|[string]: boolean|} */;\n    assetsToAccept = [];\n    assetsToDispose = [];\n    var data /*: HMRMessage */ = JSON.parse(event.data);\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH);\n\n      // Handle HMR Update\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n      if (handled) {\n        console.clear();\n\n        // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n        await hmrApplyUpdates(assets);\n\n        // Dispose all old assets.\n        let processedAssets = {} /*: {|[string]: boolean|} */;\n        for (let i = 0; i < assetsToDispose.length; i++) {\n          let id = assetsToDispose[i][1];\n          if (!processedAssets[id]) {\n            hmrDispose(assetsToDispose[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n\n        // Run accept callbacks. This will also re-execute other disposed assets in topological order.\n        processedAssets = {};\n        for (let i = 0; i < assetsToAccept.length; i++) {\n          let id = assetsToAccept[i][1];\n          if (!processedAssets[id]) {\n            hmrAccept(assetsToAccept[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n      } else fullReload();\n    }\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error('🚨 [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html);\n        // $FlowFixMe\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n  ws.onerror = function (e) {\n    if (e.message) {\n      console.error(e.message);\n    }\n  };\n  ws.onclose = function () {\n    console.warn('[parcel] 🚨 Connection to the HMR server was lost');\n  };\n}\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel] ✨ Error resolved');\n  }\n}\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n          🚨 ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div>💡 ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div>📝 <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\nfunction getParents(bundle, id) /*: Array<[ParcelRequire, string]> */{\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n  var parents = [];\n  var k, d, dep;\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n  return parents;\n}\nfunction updateLink(link) {\n  var href = link.getAttribute('href');\n  if (!href) {\n    return;\n  }\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n  newLink.setAttribute('href',\n  // $FlowFixMe\n  href.split('?')[0] + '?' + Date.now());\n  // $FlowFixMe\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href /*: string */ = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n    cssTimeout = null;\n  }, 50);\n}\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n      return new Promise((resolve, reject) => {\n        var _document$head;\n        script.onload = () => resolve(script);\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 || _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension fix\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3 && typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n            extCtx.runtime.reload();\n            return;\n          }\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n          (_document$head2 = document.head) === null || _document$head2 === void 0 || _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\nfunction hmrApply(bundle /*: ParcelRequire */, asset /*:  HMRAsset */) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      }\n\n      // $FlowFixMe\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    }\n\n    // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n    delete modules[id];\n    delete bundle.cache[id];\n\n    // Now delete the orphans.\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\nfunction hmrAcceptCheck(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  }\n\n  // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n      parents.push(...p);\n    }\n  }\n  return accepted;\n}\nfunction hmrAcceptCheckOne(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n  if (checkedAssets[id]) {\n    return true;\n  }\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToDispose.push([bundle, id]);\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    assetsToAccept.push([bundle, id]);\n    return true;\n  }\n}\nfunction hmrDispose(bundle /*: ParcelRequire */, id /*: string */) {\n  var cached = bundle.cache[id];\n  bundle.hotData[id] = {};\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData[id];\n  }\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData[id]);\n    });\n  }\n  delete bundle.cache[id];\n}\nfunction hmrAccept(bundle /*: ParcelRequire */, id /*: string */) {\n  // Execute the module.\n  bundle(id);\n\n  // Run the accept callbacks in the new version of the module.\n  var cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        assetsToAlsoAccept.forEach(function (a) {\n          hmrDispose(a[0], a[1]);\n        });\n\n        // $FlowFixMe[method-unbinding]\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n}","import { App } from './App.js';\nimport { Chat } from './models/Chat.js';\nimport { ChatMessage } from './models/ChatMessage.js';\n\n// TODO: refactor\nasync function initialize() {\n  await Chat.initialize();\n  await ChatMessage.initialize();\n}\n\ninitialize().then(() => {\n  App.run();\n});\n","import { UINotification } from './UINotification.js';\nimport { Settings } from './models/Settings.js';\nimport { Event } from './Event.js';\nimport { DOM } from './Dom.js';\nimport { Sidebar } from './Sidebar.js';\nimport { AppController } from './AppController.js';\nimport { CopyButton } from './CopyButton.js';\nimport { OllamaApi } from './OllamaApi.js';\n// import { OpenAiApi } from './OpenAiApi.js';\nimport { DownloadButton } from './DownloadButton.js';\nimport { DropDownMenu } from './DropDownMenu.js';\nimport { SettingsDialog } from './SettingsDialog.js';\nimport { ChatSettingsDialog } from './ChatSettingsDialog.js';\n// import { MarkdownFormatter } from './MarkdownFormatter.js'\nimport { ChatArea } from './ChatArea.js';\n\n// TODO: Review and refactor\nexport class App {\n  static run() {\n    UINotification.initialize();\n    const app = new App();\n    return app;\n  }\n\n  constructor() {\n    this.sidebar = new Sidebar();\n    this.chatArea = new ChatArea();\n    this.api = new OllamaApi();\n    // this.api = new OpenAiApi();\n    this.settingsDialog = new SettingsDialog({\n      domId: 'settings-dialog',\n      buttonId: 'settings-button',\n      title: 'Global settings',\n      templateId: 'settings-dialog-template',\n    });\n    this.chatSettingsDialog = new ChatSettingsDialog({\n      domId: 'chat-settings-dialog',\n      buttonId: 'chat-settings-button',\n      title: 'Chat settings',\n      templateId: 'settings-dialog-template',\n    });\n    this.downloadButton = new DownloadButton();\n    this.copyButton = new CopyButton();\n    this.dropDownMenu = new DropDownMenu();\n    this.initializeElements();\n    this.bindEventListeners();\n    this.logInitialization();\n  }\n\n  initializeElements() {\n    // this.sendButton = document.getElementById('send-button');\n    this.abortButton = document.getElementById('abort-button');\n    this.messageInput = document.getElementById('message-input');\n    this.chatHistory = document.getElementById('chat-history');\n  }\n\n  logInitialization() {\n    const msg = `~~~~\\nChat\\n~~~~\nModel:       ${Settings.getModel()}\nURL:         ${Settings.getUrl()}\nChat:        ${Settings.getCurrentChatId()}\nParameters:  ${JSON.stringify(Settings.getModelParameters())}\n`;\n    console.log(msg);\n  }\n\n  bindEventListeners() {\n    Event.listen('chatSelected', this.handleChatSelected);\n    // this.sendButton.addEventListener('click', this.sendMessage.bind(this));\n    this.abortButton.addEventListener('click', this.handleAbort.bind(this));\n    this.messageInput.addEventListener(\n      'keypress',\n      this.handleKeyPress.bind(this),\n    );\n  }\n\n  handleChatSelected = (chat) => {\n    window.history.pushState({}, '', `/chats/${chat.id}`);\n  };\n\n  handleAbort = () => {\n    this.api.abort();\n    this.enableForm();\n    console.log('Request aborted');\n  };\n\n  handleKeyPress = (event) => {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      this.sendMessage();\n    }\n  };\n\n  enableForm() {\n    DOM.hideElement(this.abortButton).enableInput(this.messageInput);\n    this.messageInput.focus();\n  }\n\n  disableForm() {\n    DOM.showElement(this.abortButton).disableInput(this.messageInput);\n  }\n\n  // https://github.com/jmorganca/ollama/blob/main/docs/api.md#generate-a-completion\n  async sendMessage() {\n    const userPrompt = this.messageInput.value.trim();\n    // Get the current chat\n    let chat = await AppController.getCurrentChat();\n    const url = Settings.getUrl('/api/chat');\n    if (!url) {\n      UINotification.show(\n        'Please update the URL in the settings to continue. ',\n      );\n      return null;\n    }\n    if (userPrompt) {\n      // Reset input\n      this.messageInput.value = '';\n      // Create new chat\n      if (!chat) {\n        chat = await AppController.createChat({\n          title: 'Untitled',\n          model: Settings.getModel(),\n        });\n      }\n      // Store user message\n      const userMessage = await chat.addMessage({\n        role: 'user',\n        content: userPrompt,\n      });\n      const systemMessage = await chat.addMessage({\n        role: 'assistant',\n        content: '',\n      });\n      const systemPrompt = Settings.getSystemPrompt();\n      const modelParameters = Settings.getModelParameters();\n      // Disable form\n      this.disableForm();\n      // Create user message\n      this.createChatMessage(userMessage);\n      // Create system message container\n      const responseElement = this.createChatMessage(systemMessage);\n      const requestContext = {\n        chat,\n        userMessage,\n        systemMessage,\n        responseElement,\n      };\n      const requestData = await this.api.makeRequest(\n        chat,\n        userMessage,\n        systemPrompt,\n        modelParameters,\n      );\n      /*\n      console.dir(requestData);\n      const requestData = {\n        prompt: userMessage,\n        model: chat.model,\n        messages: (await chat.getMessages()).map((message) => ({\n          role: message.role,\n          content: message.content,\n        })),\n      };\n      // Add system prompt\n      if (systemPrompt) {\n        requestData.system = systemPrompt;\n      }\n      // Add model parameters\n      if (modelParameters) {\n        requestData.options = modelParameters;\n      }\n      */\n      // Show spinner\n      responseElement.textElement.innerHTML = '<div class=\"waiting\"></div>';\n      this.chatArea.scrollToEnd();\n      // Make request\n      this.api.send(\n        url,\n        requestData,\n        (request, response) =>\n          this.handleResponse(request, response, requestContext),\n        (request, error) => this.handleResponseError(request, error),\n        (request, response) =>\n          this.handleDone(request, response, requestContext),\n      );\n    }\n  }\n\n  createChatMessage(message) {\n    return this.chatArea.createMessageDiv(message);\n  }\n\n  handleResponse(request, response, context) {\n    const responseElement = context.responseElement;\n    const sanitizedContent = this.sanitizeContent(response);\n    // Remember original response\n    context.systemMessage.content += sanitizedContent;\n    responseElement.textElement.textContent += sanitizedContent;\n    this.chatArea.scrollToEnd();\n  }\n\n  handleResponseError(request, error) {\n    // Ignore \"Abort\" button\n    if (error !== undefined && error.name !== 'AbortError') {\n      console.error(`Error: ${error.message}`);\n    }\n    this.chatArea.scrollToEnd();\n    this.enableForm();\n  }\n\n  async handleDone(request, response, context) {\n    const chat = context.chat;\n    console.log(`Chat ${chat.id} done`);\n    await context.systemMessage.save();\n    this.enableForm();\n  }\n\n  sanitizeContent = (content) => {\n    // TODO: Sanitization logic here\n    return content;\n  };\n\n  getIdParam = () => {\n    return new URL(window.location.href).pathname.split('/').pop();\n  };\n}\n","function simpleHash(str) {\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    const char = str.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash = hash & hash; // Convert to 32bit integer\n  }\n  return hash;\n}\n\n// Show all uncaught errors as UI notifications\n/*\nwindow.onerror = function (message, source, lineno, colno, error) {\n  const errorDetails = `${message} at ${source}:${lineno}:${colno}`;\n  UINotification.show(errorDetails, 'error');\n  return true;\n};\n*/\n\nexport class UINotification {\n  constructor(message, type, autoDismiss) {\n    const id = simpleHash(JSON.stringify(message));\n    this.type = type;\n    this.domId = `notification-${id}`;\n    this.container = document.body;\n    this.template = document.getElementById('notification-template').content;\n    this._bindEventListeners();\n    if (autoDismiss) {\n      this.autoDismiss();\n    }\n  }\n\n  _bindEventListeners() {\n    window.addEventListener('keydown', (event) => {\n      if (event.key === 'Escape') {\n        this.hide();\n      }\n    });\n  }\n\n  autoDismiss() {\n    setTimeout(() => {\n      this.hide();\n    }, 2000); // 2000 milliseconds (2 seconds)\n  }\n\n  static show(message, type) {\n    const notification = new UINotification(message, type);\n    notification.show(message);\n    return notification;\n  }\n\n  static initialize() {\n    // Store the original console.error function\n    const originalConsoleError = console.error;\n\n    // Override console.error\n    console.error = function (...args) {\n      UINotification.show(args);\n      // Call the original console.error with all arguments\n      originalConsoleError.apply(console, args);\n    };\n  }\n\n  static handleApplicationError(error) {\n    console.debug('caught error');\n    console.error(error);\n    UINotification.show(error);\n  }\n\n  show(message) {\n    // Clone the template\n    const clone = this.template.cloneNode(true);\n\n    // Find the root element of the notification in the clone\n    const notificationElement = clone.querySelector('.notification');\n    if (!notificationElement) {\n      console.error('Notification root element not found in template');\n      return;\n    }\n\n    // Set the message\n    clone.querySelector('.notification-message').textContent = message;\n\n    notificationElement.id = this.domId; // Set ID on the actual element, not the fragment\n    // Add type, for example, error\n    if (this.type) {\n      notificationElement.classList.add(`notification-${this.type}`);\n    }\n\n    // Add close functionality\n    const closeButton = clone.querySelector('.close-notification-button');\n    closeButton.onclick = () => this.hide();\n\n    // Don't show the same notification twice\n    if (!document.getElementById(this.domId)) {\n      // Append to the container and display\n      this.container.appendChild(clone);\n    }\n  }\n\n  hide() {\n    document.getElementById(this.domId)?.remove();\n  }\n}\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (\n      key === 'default' ||\n      key === '__esModule' ||\n      Object.prototype.hasOwnProperty.call(dest, key)\n    ) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","export class Settings {\n  // Static method to set a value in localStorage\n  static set(key, value) {\n    try {\n      const stringValue = JSON.stringify(value);\n      localStorage.setItem(key, stringValue);\n    } catch (e) {\n      console.error('Error saving to localStorage', e);\n    }\n  }\n\n  // Static method to get a value from localStorage\n  static get(key, defaultValue = null) {\n    try {\n      const value = localStorage.getItem(key);\n      return value !== null ? JSON.parse(value) : defaultValue;\n    } catch (e) {\n      console.error('Error reading from localStorage', e);\n      return defaultValue;\n    }\n  }\n\n  // Static method to remove a value from localStorage\n  static remove(key) {\n    try {\n      localStorage.removeItem(key);\n    } catch (e) {\n      console.error('Error removing from localStorage', e);\n    }\n  }\n\n  static getUrl(uri) {\n    try {\n      const baseUrl = Settings.get('url');\n      if (uri) {\n        return new URL(uri, baseUrl).href;\n      } else {\n        return baseUrl;\n      }\n    } catch (error) {\n      return null;\n    }\n  }\n\n  static setUrl(url) {\n    Settings.set('url', url);\n  }\n\n  static getModel() {\n    return Settings.get('model');\n  }\n\n  static setModel(model) {\n    Settings.set('model', model);\n  }\n\n  static getSystemPrompt() {\n    return Settings.get('system-prompt');\n  }\n\n  static setSystemPrompt(systemPrompt) {\n    if (systemPrompt === '') {\n      systemPrompt = null;\n    }\n    Settings.set('system-prompt', systemPrompt);\n  }\n\n  static getModelParameters() {\n    return Settings.get('model-parameters');\n  }\n\n  static setModelParameters(modelParameters) {\n    if (modelParameters === '') {\n      modelParameters = null;\n    }\n    Settings.set('model-parameters', modelParameters);\n  }\n\n  static getCurrentChatId() {\n    return Settings.get('currentChatId');\n  }\n\n  static setCurrentChatId(chatId) {\n    if (chatId === undefined) {\n      chatId = null;\n    }\n    Settings.set('currentChatId', chatId);\n  }\n}\n","export class Event {\n  static listen(eventName, handler, target) {\n    if (target === null || target === undefined) {\n      target = window;\n    }\n    target.addEventListener(eventName, (event) => {\n      handler(event.detail);\n    });\n  }\n\n  static emit(eventName, data, target) {\n    if (target === null || target === undefined) {\n      target = window;\n    }\n    let log = `${eventName}`;\n    if (data?.id) {\n      log += ` id: ${data.id}`;\n    }\n    console.log(log);\n    const event = new CustomEvent(eventName, {\n      detail: data || {},\n      bubbles: true, // This makes the event bubble up through the DOM\n    });\n    target.dispatchEvent(event);\n  }\n}\n","export class DOM {\n  static showElement(element) {\n    element.classList.remove('hidden');\n    return this;\n  }\n\n  static hideElement(element) {\n    element.classList.add('hidden');\n    return this;\n  }\n\n  static enableInput(element) {\n    element.removeAttribute('disabled');\n    return this;\n  }\n\n  static disableInput(element) {\n    element.setAttribute('disabled', 'disabled');\n    return this;\n  }\n}\n","import { debounce } from './debounce.js';\nimport { Event } from './Event.js';\nimport { Chat } from './models/Chat.js';\nimport { AppController } from './AppController.js';\nimport { ChatList } from './ChatList.js';\nimport { DownloadChatsButton } from './DownloadChatsButton.js';\nimport { LocalStorage } from './models/LocalStorage.js';\n\nexport class Sidebar {\n  constructor() {\n    this.settings = new LocalStorage();\n    this.chatList = new ChatList();\n    this.element = document.getElementById('sidebar');\n    this.newChatButton = this.element.querySelector('#new-chat-button');\n    this.clearButton = this.element.querySelector('#clear-button');\n    this.hamburgerButton = document.getElementById('hamburger-menu');\n    this.searchButton = document.getElementById('search-button');\n    this.downloadChatsButton = new DownloadChatsButton();\n    this.searchRow = document.getElementById('search-row');\n    this.searchInput = document.getElementById('search-input');\n    if (this.settings.get('sidebar-collapsed') === true) {\n      this.element.classList.add('collapsed');\n    }\n    this.bindEventListeners();\n    this.render();\n  }\n\n  render() {\n    this.chatList.render();\n  }\n\n  bindEventListeners() {\n    Event.listen('chatSelected', this.handleChatSelected);\n    this.searchButton.addEventListener('click', this.toggleSearch.bind(this));\n    this.searchInput.addEventListener(\n      'keypress',\n      debounce(this.performSearch.bind(this), 50),\n    );\n    this.searchInput.addEventListener(\n      'keyup',\n      debounce(this.performSearch.bind(this), 50),\n    );\n    this.newChatButton.addEventListener('click', this.handleNewChat.bind(this));\n    this.clearButton.addEventListener('click', this.handleClear.bind(this));\n    this.hamburgerButton.addEventListener('click', this.toggle.bind(this));\n  }\n\n  // TODO: Fix\n  handleChatSelected = (chat) => {\n    const listItem = this.element.querySelector(`chat${chat.id}`);\n    if (listItem) {\n      listItem.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start', // \"start\" will bring the top of the element into view\n        inline: 'nearest', // \"nearest\" will scroll to the nearest edge if partially visible\n      });\n    }\n  };\n\n  toggleSearch() {\n    const searchRow = document.getElementById('search-row');\n    searchRow.classList.toggle('hidden');\n    this.searchInput.focus();\n  }\n\n  performSearch() {\n    function escapeRegExp(string) {\n      return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // Escapes special characters\n    }\n    const query = escapeRegExp(this.searchInput.value.trim()).replace(\n      /\\s+/g,\n      '.*',\n    );\n    const queryContent = query.length > 2; // Nobody wants to query content based on one character?\n    const regex = new RegExp(query, 'i'); // 'i' for case-insensitive matching\n    console.log(`Search ${query}`);\n    Chat.getAll().then((chats) => {\n      const matches = chats\n        .filter((chat) => {\n          let match = regex.test(chat.title);\n          if (queryContent) {\n            match ||= regex.test(chat.content);\n          }\n          return match;\n        })\n        .map((chat) => chat.id);\n      this.element.querySelectorAll('.chat-list-item').forEach((item) => {\n        if (matches.includes(item.data.id)) {\n          // Now matches the type\n          item.classList.remove('hidden');\n        } else {\n          item.classList.add('hidden');\n        }\n      });\n    });\n  }\n\n  toggle() {\n    this.element.classList.toggle('collapsed');\n    this.hamburgerButton.classList.toggle('collapsed');\n    if (this.element.classList.contains('collapsed')) {\n      this.settings.set('sidebar-collapsed', true);\n    } else {\n      this.settings.set('sidebar-collapsed', false);\n    }\n  }\n\n  async handleNewChat() {\n    await AppController.createChat();\n  }\n\n  async handleClear() {\n    await AppController.clearChats();\n  }\n}\n","export function debounce(func, wait) {\n  let timeout;\n\n  return function funcWrapper(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n","import { BaseModel } from './BaseModel.js';\nimport { ChatMessage } from './ChatMessage.js';\n\nexport class Chat extends BaseModel {\n  async addMessage(data) {\n    data.chatId = this.id;\n    return await new ChatMessage(data).create();\n  }\n\n  async getMessages() {\n    const messages = await ChatMessage.getAllByChatId(this.id);\n    this.messages = messages;\n    return this.messages;\n  }\n\n  static async initialize() {\n    await this.database('ChatApp', ['chats']);\n  }\n\n  static async clear() {\n    await ChatMessage.clear();\n    await super.clear();\n  }\n\n  static async get(id) {\n    const chat = await super.get(id);\n\n    /*\n    if (chat) {\n      // Fetch all messages for this chat\n      const messages = await ChatMessage.getAllByChatId(id);\n      chat.messages = messages;\n    }\n    */\n\n    return chat;\n  }\n\n  static async delete(id) {\n    // Delete the chat instance\n    await super.delete(id);\n\n    // Delete all associated messages\n    const messages = await ChatMessage.getAllByChatId(id);\n    for (const message of messages) {\n      await message.delete();\n    }\n  }\n}\n","import { Database } from '../Database.js';\nimport { Migrations } from '../Migrations.js';\n\nexport class BaseModel {\n  constructor(data) {\n    Object.assign(this, data);\n  }\n\n  async create() {\n    const key = await this.constructor.db.add(this.constructor.storeName, this);\n    if (!this.id) {\n      this.id = key;\n    }\n    return this;\n  }\n\n  async save() {\n    return await this.constructor.db.put(this.constructor.storeName, this);\n  }\n\n  async delete() {\n    return await this.constructor.db.delete(\n      this.constructor.storeName,\n      this.id,\n    );\n  }\n\n  jsonify() {\n    return JSON.stringify(this);\n  }\n\n  static async database(name, store) {\n    this.dbName = name;\n    this.storeName = store;\n    this.db = new Database(name, [store], Migrations);\n    await this.db.open();\n  }\n\n  static async transaction(mode) {\n    return await this.db.transaction(this.storeName, mode);\n  }\n\n  async transaction(mode) {\n    return await this.constructor.transaction(mode);\n  }\n\n  static async get(id) {\n    const data = await this.db.get(this.storeName, id);\n    return new this(data);\n  }\n\n  static async clear() {\n    return await this.db.clear(this.storeName);\n  }\n\n  // TODO: sorting and selecting only certain attributes\n  static async getAll() {\n    const records = await this.db.getAll(this.storeName);\n    return records.map((data) => new this(data));\n  }\n\n  /**\n   * Retrieves all objects associated with a given ID and index.\n   *\n   * @param {number|string} chatId - The ID of the chat.\n   * @returns {Promise<Array>} A promise that resolves to an array.\n   */\n  static async getAllByIndexAndId(indexName, id) {\n    // Open a transaction and access the messages store\n    const transaction = await this.transaction('readonly');\n\n    // Use an index to find objects with the specified id\n    const index = transaction.index(indexName);\n    const request = index.getAll(id);\n\n    return new Promise((resolve, reject) => {\n      request.onsuccess = () => {\n        // Convert the result into instances\n        const messages = request.result.map((data) => new this(data));\n        resolve(messages);\n      };\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  // Exports the whole store\n  static async export() {\n    let transaction = await this.db.transaction(this.storeName, 'readonly');\n    let store = await transaction.transaction.objectStore(this.storeName);\n    return store.getAll();\n  }\n}\n","export class Database {\n  constructor(dbName, objectStores, migrations) {\n    this.dbName = dbName;\n    this.objectStores = objectStores;\n    this.dbConnection = null; // Initialized in open\n    this.migrations = migrations;\n  }\n\n  async open() {\n    if (this.dbConnection) {\n      throw new Error('Connection already open');\n    }\n\n    return new Promise((resolve, reject) => {\n      const request = indexedDB.open(this.dbName, this.migrations.version);\n\n      request.onerror = (event) => reject(event.target.error);\n      request.onupgradeneeded = (event) => {\n        const db = event.target.result;\n        const transaction = event.currentTarget.transaction;\n        this.migrations.upgrade(db, transaction, event.oldVersion);\n      };\n      request.onsuccess = (event) => {\n        this.dbConnection = event.target.result;\n        resolve(this.dbConnection);\n      };\n    });\n  }\n\n  async transaction(storeName, mode) {\n    return this.dbConnection\n      .transaction([storeName], mode)\n      .objectStore(storeName);\n  }\n\n  async add(storeName, data) {\n    const store = await this.transaction(storeName, 'readwrite');\n    return this.handleRequest('add', store.add(data));\n  }\n\n  async get(storeName, id) {\n    const store = await this.transaction(storeName, 'readonly');\n    return this.handleRequest('get', store.get(id));\n  }\n\n  async put(storeName, data) {\n    const store = await this.transaction(storeName, 'readwrite');\n    return this.handleRequest('put', store.put(data));\n  }\n\n  async delete(storeName, id) {\n    const store = await this.transaction(storeName, 'readwrite');\n    return this.handleRequest('delete', store.delete(id));\n  }\n\n  async getAll(storeName) {\n    const store = await this.transaction(storeName, 'readwrite');\n    return this.handleRequest('getAll', store.getAll());\n  }\n\n  async clear(storeName) {\n    const store = await this.transaction(storeName, 'readwrite');\n    return this.handleRequest('deleteAll', store.clear());\n  }\n\n  handleRequest(type, request) {\n    return new Promise((resolve, reject) => {\n      request.onsuccess = () => resolve(request.result);\n\n      request.onerror = (event) => {\n        const error = `Database ${type} operation failed: ${event.target.error.message}`;\n        reject(new Error(JSON.stringify(error)));\n      };\n    });\n  }\n}\n","export class Migrations {\n  static version = 2;\n  static upgrade(database, transaction, oldVersion) {\n    console.debug(\n      `Migration needed. Old version ${oldVersion}. New version ${this.version}.`,\n    );\n    const funcName = `upgradeToVersion${this.version}`;\n    const upgradeFunc = this[funcName];\n    if (!upgradeFunc) {\n      throw new Error(`Upgrade function missing for ${funcName}`);\n    }\n    if (this.version >= oldVersion) {\n      upgradeFunc({ database, transaction });\n    }\n  }\n\n  static upgradeToVersion2(context) {\n    // Create chats\n    context.database.createObjectStore('chats', {\n      keyPath: 'id',\n      autoIncrement: true,\n    });\n    // Create chat_messages\n    const chatMessages = context.database.createObjectStore('chat_messages', {\n      keyPath: 'id',\n      autoIncrement: true,\n    });\n    chatMessages.createIndex('by_chat', 'chatId', { unique: false });\n  }\n}\n","import { BaseModel } from './BaseModel.js';\n\nexport class ChatMessage extends BaseModel {\n  static async initialize() {\n    await this.database('ChatApp', 'chat_messages');\n  }\n\n  static async getAllByChatId(chatId) {\n    return this.getAllByIndexAndId('by_chat', chatId);\n  }\n}\n","import { UINotification } from './UINotification.js';\nimport { Event } from './Event.js';\nimport { Chat } from './models/Chat.js';\nimport { ChatMessage } from './models/ChatMessage.js';\nimport { Settings } from './models/Settings.js';\n\n// TODO: Move all actions here?\n// TODO: Cache current chat here\nexport class AppController {\n  static async updateChat(chat, data) {\n    Object.assign(chat, data);\n    await chat.save();\n    // TODO: Move to BaseModel\n    Event.emit('chatUpdated', chat);\n  }\n\n  static async createChat(data) {\n    if (!data) {\n      data = {};\n    }\n    if (!data.title) {\n      data.title = 'Untitled';\n    }\n    if (!data.model) {\n      data.model = Settings.getModel();\n    }\n    const chat = await new Chat(data).create();\n    Settings.setCurrentChatId(chat.id);\n    Event.emit('chatCreated', chat);\n    Event.emit('chatSelected', chat);\n    return chat;\n  }\n\n  static async deleteChatMessage(messageId) {\n    UINotification.show('Deleted message').autoDismiss();\n    const message = await ChatMessage.get(messageId);\n    message.delete();\n  }\n\n  static async deleteChat(chat) {\n    await chat.delete();\n    if (Settings.getCurrentChatId() === chat.id) {\n      Settings.setCurrentChatId(null);\n    }\n    Event.emit('chatDeleted', chat);\n  }\n\n  static async getCurrentChat() {\n    const chatId = this.getCurrentChatId();\n    if (chatId) {\n      return await Chat.get(chatId);\n    }\n    return null;\n  }\n\n  static getCurrentChatId() {\n    return Settings.get('currentChatId');\n  }\n\n  static async setCurrentChat(chat) {\n    Settings.setCurrentChatId(chat.id);\n    Event.emit('chatSelected', chat);\n  }\n\n  static async setCurrentChatId(chatId) {\n    const chat = await Chat.get(chatId);\n    if (chat) {\n      await this.setCurrentChat(chat);\n    }\n  }\n\n  static async clearChats() {\n    Settings.setCurrentChatId(null);\n    await Chat.clear();\n    Event.emit('chatsCleared');\n  }\n}\n","import { Event } from './Event.js';\nimport { ChatListItem } from './ChatListItem.js';\nimport { DragAndDrop } from './DragAndDrop.js';\nimport { Chat } from './models/Chat.js';\nimport { AppController } from './AppController.js';\n\nexport class ChatList {\n  constructor() {\n    this.element = document.getElementById('chat-list');\n    this.template = document.getElementById('chat-list-item-template').content;\n    this.bindEventListeners();\n    AppController.getCurrentChat().then((chat) => {\n      this.chat = chat;\n    });\n  }\n\n  bindEventListeners() {\n    Event.listen('chatCreated', this.handleChatCreated.bind(this));\n    Event.listen('chatDeleted', this.handleChatDeleted.bind(this));\n    Event.listen('chatsCleared', this.handleChatsCleared.bind(this));\n    Event.listen('chatUpdated', this.handleChatUpdated.bind(this));\n    Event.listen('chatSelected', this.handleChatSelected.bind(this));\n  }\n\n  async selectChat(chatId) {\n    await AppController.setCurrentChatId(chatId);\n  }\n\n  handleChatCreated(chat) {\n    this.appendChat(chat, true);\n  }\n\n  handleChatDeleted(chat) {\n    if (this.chat?.id === chat.id) {\n      this.chat = null;\n    }\n    this.element.querySelector(`.chat${chat.id}`)?.remove();\n  }\n\n  handleChatsCleared() {\n    const elements = this.element.querySelectorAll('.chat-list-item');\n    elements.forEach((element) => element.remove());\n  }\n\n  handleChatUpdated(chat) {\n    const listElement = this.element.querySelector(\n      `.chat${chat.id} .chat-title`,\n    );\n    if (listElement) {\n      listElement.textContent = chat.title;\n    }\n  }\n\n  handleChatSelected(chat) {\n    if (this.chat) {\n      const previousListElement = this.element.querySelector(\n        `.chat${this.chat.id}`,\n      );\n      if (previousListElement) {\n        previousListElement.classList.remove('selected');\n      }\n    }\n    const newListElement = this.element.querySelector(`.chat${chat.id}`);\n    if (newListElement) {\n      newListElement.classList.add('selected');\n    }\n    // Remember selected chat\n    this.chat = chat;\n  }\n\n  render() {\n    const currentChatId = AppController.getCurrentChatId();\n    this.element.innerHTML = '';\n    Chat.getAll().then((chats) => {\n      chats.forEach((chat) => {\n        const selected = chat.id === currentChatId;\n        this.appendChat(chat, selected);\n      });\n      new DragAndDrop('.chat-list-item');\n    });\n  }\n\n  appendChat(chat, selected) {\n    const chatListItem = new ChatListItem(chat, this, selected);\n    this.element.appendChild(chatListItem.element);\n    return chatListItem;\n  }\n}\n","import { AppController } from './AppController.js';\n\nexport class ChatListItem {\n  constructor(chat, chatList, selected) {\n    this.chat = chat;\n    this.chatList = chatList;\n    this.content = document\n      .getElementById('chat-list-item-template')\n      .content.cloneNode(true);\n    this.element = this.content.querySelector('.chat-list-item');\n    this.element.title = this.chat.title;\n    this.element.data = { id: this.chat.id };\n    this.element.classList.add(`chat${this.chat.id}`);\n    if (selected === true) {\n      this.element.classList.add('selected');\n      // this.content.querySelector('.icon-selected').classList.remove('hidden')\n    }\n    this.setTitle();\n    this.bindEventListeners();\n  }\n\n  render() {}\n\n  bindEventListeners() {\n    this.element.addEventListener('mouseover', this.onMouseover.bind(this));\n    this.element.addEventListener('mouseout', this.onMouseout.bind(this));\n    this.element.addEventListener('click', this.onClick.bind(this));\n    this.element\n      .querySelector('.list-item-delete')\n      .addEventListener('click', this.deleteChat.bind(this));\n  }\n\n  onMouseover() {\n    this.element.classList.add('hover');\n  }\n\n  onMouseout() {\n    this.element.classList.remove('hover');\n  }\n\n  onClick() {\n    this.chatList.selectChat(this.chat.id);\n  }\n\n  setTitle() {\n    const chatTitle = this.content.querySelector('.chat-title');\n    chatTitle.textContent = this.chat.title;\n  }\n\n  deleteChat() {\n    AppController.deleteChat(this.chat);\n    this.element.remove();\n  }\n}\n","export class DragAndDrop {\n  constructor(selector) {\n    this.listItems = document.querySelectorAll(selector);\n    this.draggedItem = null;\n    this.initializeDragAndDrop();\n  }\n\n  initializeDragAndDrop() {\n    this.listItems.forEach((item) => {\n      item.addEventListener('dragstart', this.handleDragStart.bind(this, item));\n      item.addEventListener('dragover', this.handleDragOver.bind(this));\n      item.addEventListener('drop', this.handleDrop.bind(this, item));\n      item.addEventListener('dragend', this.handleDragEnd.bind(this));\n    });\n  }\n\n  handleDragStart(item) {\n    this.draggedItem = item;\n  }\n\n  handleDragOver(e) {\n    e.preventDefault();\n  }\n\n  handleDrop(item) {\n    if (item !== this.draggedItem) {\n      let currentHTML = item.innerHTML;\n      item.innerHTML = this.draggedItem.innerHTML;\n      this.draggedItem.innerHTML = currentHTML;\n      console.debug('dnd drop');\n    }\n  }\n\n  handleDragEnd() {\n    this.draggedItem = null;\n  }\n}\n","import { Chat } from './models/Chat.js';\nimport { ChatMessage } from './models/ChatMessage.js';\n\nexport class DownloadChatsButton {\n  constructor() {\n    this.button = document.querySelector('#export-button');\n    this.bindEventListeners();\n  }\n\n  bindEventListeners() {\n    this.button.addEventListener('click', () => {\n      this.exportChat();\n      this.exportChatMessages();\n    });\n  }\n\n  async exportChat() {\n    const request = await Chat.export();\n\n    request.onsuccess = function () {\n      let data = request.result;\n\n      // Convert the data to JSON format\n      let jsonData = JSON.stringify(data, 2);\n\n      // Export the JSON data by creating a file to download\n      let blob = new Blob([jsonData], { type: 'application/json' });\n      let url = URL.createObjectURL(blob);\n\n      let a = document.createElement('a');\n      a.href = url;\n      a.download = 'chats.json';\n      a.click();\n      URL.revokeObjectURL(url);\n    };\n\n    request.onerror = function (event) {\n      console.error('Error reading data: ', event.target.errorCode);\n    };\n  }\n\n  async exportChatMessages() {\n    const request = await ChatMessage.export();\n\n    request.onsuccess = function () {\n      let data = request.result;\n\n      // Convert the data to JSON format\n      let jsonData = JSON.stringify(data, 2);\n\n      // Export the JSON data by creating a file to download\n      let blob = new Blob([jsonData], { type: 'application/json' });\n      let url = URL.createObjectURL(blob);\n\n      let a = document.createElement('a');\n      a.href = url;\n      a.download = 'chat_messages.json';\n      a.click();\n      URL.revokeObjectURL(url);\n    };\n\n    request.onerror = function (event) {\n      console.error('Error reading data: ', event.target.errorCode);\n    };\n  }\n}\n","export class LocalStorage {\n  // Set a value in localStorage\n  set(key, value) {\n    try {\n      const stringValue = JSON.stringify(value);\n      localStorage.setItem(key, stringValue);\n    } catch (e) {\n      console.error('Error saving to localStorage', e);\n    }\n  }\n\n  // Get a value from localStorage, return defaultValue if key doesn't exist\n  get(key, defaultValue = null) {\n    try {\n      const value = localStorage.getItem(key);\n      return value !== null ? JSON.parse(value) : defaultValue;\n    } catch (e) {\n      console.error('Error reading from localStorage', e);\n      return defaultValue;\n    }\n  }\n\n  // Remove a value from localStorage\n  remove(key) {\n    try {\n      localStorage.removeItem(key);\n    } catch (e) {\n      console.error('Error removing from localStorage', e);\n    }\n  }\n}\n","import { UINotification } from './UINotification.js';\n\nexport class CopyButton {\n  constructor() {\n    document.addEventListener('click', (event) => {\n      // Check if the clicked element has the class 'copy-button'\n      if (event.target.classList.contains('copy-button')) {\n        const targetSelector = event.target.getAttribute('data-target');\n        if (!targetSelector) {\n          console.error('The data-target attribute is not set');\n          return;\n        }\n        const textToCopy = document.getElementById(targetSelector).innerText;\n        // Create a temporary textarea element\n        const textarea = document.createElement('textarea');\n        textarea.value = textToCopy;\n        document.body.appendChild(textarea);\n\n        // Select the text and copy it\n        textarea.select();\n        document.execCommand('copy');\n\n        // Remove the temporary textarea\n        document.body.removeChild(textarea);\n\n        // Optional: Display a message or change the button text/content\n        UINotification.show('Text copied to clipboard').autoDismiss();\n      }\n    });\n  }\n}\n","export class OllamaApi {\n  constructor() {\n    this.abortController = null;\n  }\n\n  async makeRequest(chat, userMessage, systemPrompt, modelParameters) {\n    const requestData = {\n      prompt: userMessage,\n      model: chat.model,\n      messages: (await chat.getMessages()).map((message) => ({\n        role: message.role,\n        content: message.content,\n      })),\n    };\n    // Add system prompt\n    if (systemPrompt) {\n      requestData.system = systemPrompt;\n    }\n    // Add model parameters\n    if (modelParameters) {\n      requestData.options = modelParameters;\n    }\n    return requestData;\n  }\n\n  async send(url, data, onResponse, onError, onDone) {\n    const request = { data };\n    try {\n      const response = await this.postChatMessage(url, data);\n      await this.handleResponse(request, response, onResponse, onDone);\n    } catch (error) {\n      onError(request, error);\n    }\n  }\n\n  async postChatMessage(url, data) {\n    this.abortController = new AbortController();\n    const { signal } = this.abortController;\n    const response = await fetch(url, {\n      signal,\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(data),\n    });\n\n    if (!response.ok) {\n      throw new Error(`${url} failed with status ${response.status}`);\n    }\n\n    return response;\n  }\n\n  async handleResponse(request, response, onResponse, onDone) {\n    const reader = response.body.getReader();\n    let partialLine = '';\n    var isRequestDone = false;\n\n    while (!isRequestDone) {\n      const { done, value } = await reader.read();\n      if (done) {\n        onDone(request, response);\n        isRequestDone = true;\n        continue;\n      }\n\n      const textChunk = new TextDecoder().decode(value);\n      const lines = (partialLine + textChunk).split('\\n');\n      partialLine = lines.pop();\n\n      lines.forEach((line) => {\n        const responseData = JSON.parse(line);\n        if (line.trim()) {\n          // TODO: Move this line:\n          this.printResponseStats(responseData);\n          onResponse(request, responseData.message.content);\n        }\n      });\n    }\n\n    if (partialLine.trim()) {\n      onResponse(request, partialLine);\n    }\n  }\n\n  abort() {\n    if (this.abortController) {\n      this.abortController.abort();\n    }\n  }\n\n  printResponseStats(data) {\n    if (!data.total_duration) {\n      return;\n    }\n    // Convert nanoseconds to seconds for durations\n    const totalDurationInSeconds = data.total_duration / 1e9;\n    const loadDurationInSeconds = data.load_duration / 1e9;\n    const promptEvalDurationInSeconds = data.prompt_eval_duration / 1e9;\n    const responseEvalDurationInSeconds = data.eval_duration / 1e9;\n\n    // Calculate tokens per second (token/s)\n    const tokensPerSecond = data.eval_count / responseEvalDurationInSeconds;\n    const output = `\nModel: ${data.model}\nCreated At: ${data.created_at}\nTotal Duration (s): ${totalDurationInSeconds.toFixed(2)}\nLoad Duration (s): ${loadDurationInSeconds.toFixed(2)}\nPrompt Evaluation Count: ${data.prompt_eval_count}\nPrompt Evaluation Duration (s): ${promptEvalDurationInSeconds.toFixed(2)}\nResponse Evaluation Count: ${data.eval_count}\nResponse Evaluation Duration (s): ${responseEvalDurationInSeconds.toFixed(2)}\nTokens Per Second: ${tokensPerSecond.toFixed(2)} token/s\n    `;\n    console.log(output);\n  }\n\n  static getModels(url, onResponse) {\n    if (!url) {\n      return null;\n    }\n\n    return fetch(url)\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(`Unable to fetch models from ${url}`);\n        }\n        return response.json();\n      })\n      .then((data) => {\n        onResponse(data.models);\n      })\n      .catch((error) => {\n        console.debug(error);\n        console.error(\n          `Please ensure the server is running at: ${url}. Error code: 39847`,\n        );\n        onResponse([]);\n      });\n  }\n}\n","export class DownloadButton {\n  constructor() {\n    document.addEventListener('click', (event) => {\n      // Check if the clicked element has the class 'copy-button'\n      if (event.target.classList.contains('download-button')) {\n        // Get the index from the data-target attribute\n        const targetId = event.target.getAttribute('data-target');\n        this.downloadElementContent(targetId, 'chat.html');\n      }\n    });\n  }\n\n  downloadElementContent(elementId, filename) {\n    // Get the element\n    const element = document.getElementById(elementId);\n    if (!element) {\n      console.error('Element not found');\n      return;\n    }\n\n    // Get the contents of the element\n    const content = element.innerText;\n\n    // Create a Blob with the content\n    const blob = new Blob([content], { type: 'text/html' });\n\n    // Create an anchor element and set the href to the blob\n    const a = document.createElement('a');\n    a.href = URL.createObjectURL(blob);\n    a.download = filename;\n\n    // Append the anchor to the document, trigger a click, and then remove it\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n\n    // Revoke the blob URL\n    URL.revokeObjectURL(a.href);\n  }\n}\n","export class DropDownMenu {\n  constructor() {\n    this.buttonSelector = '.drop-down-menu';\n    this.dropDownMenus = document.querySelectorAll(this.buttonSelector);\n    this.init();\n  }\n\n  init() {\n    // Add a click listener to the whole document\n    document.addEventListener('click', (event) => {\n      // Check if the clicked element or any of its parents has the 'drop-down-menu' class\n      const menuElement = event.target.closest(this.buttonSelector);\n      if (menuElement) {\n        const dropDownMenu = menuElement.querySelector('.drop-down-menu-items');\n        if (dropDownMenu) {\n          this.toggleMenu(dropDownMenu);\n        }\n      }\n    });\n  }\n\n  toggleMenu(menu) {\n    menu.classList.toggle('hidden');\n    menu.classList.toggle('visible');\n  }\n}\n","import { Modal } from './Modal.js';\nimport { UINotification } from './UINotification.js';\nimport { ModelsList } from './ModelsList.js';\nimport { Models } from './models/Models.js';\nimport { Settings } from './models/Settings.js';\n\nexport class SettingsDialog extends Modal {\n  constructor(options) {\n    super(options);\n    this.showButton = document.getElementById(options.buttonId);\n    this.urlInput = this.modal.querySelector('#input-url');\n    this.modelInput = this.modal.querySelector('#input-model');\n    this.systemPromptInput = this.modal.querySelector('#input-system-prompt');\n    this.modelParametersInput = this.modal.querySelector(\n      '#input-model-parameters',\n    );\n    this.refreshModelsButton = this.modal.querySelector(\n      '.refresh-models-button',\n    );\n    this.modelList = new ModelsList(this.modal.querySelector('#model-list'));\n    this.bindEventListeners();\n  }\n\n  getSelected() {\n    return Settings.getModel();\n  }\n\n  bindEventListeners() {\n    this.urlInput.addEventListener('blur', this.handleUrlUpdated.bind(this));\n    this.systemPromptInput.addEventListener(\n      'blur',\n      this.handleSystemPromptUpdated.bind(this),\n    );\n    this.modelParametersInput.addEventListener('blur', () =>\n      this.handleModelParametersUpdated.bind(this),\n    );\n    this.modelList.onClick(this.handleModelUpdated.bind(this));\n    this.showButton.addEventListener('click', this.show.bind(this));\n    this.refreshModelsButton.addEventListener(\n      'click',\n      this.refreshModels.bind(this),\n    );\n    this.closeButton.addEventListener('click', this.hide.bind(this));\n  }\n\n  handleSystemPromptUpdated() {\n    Settings.setSystemPrompt(this.systemPromptInput.value.trim());\n  }\n\n  handleModelUpdated() {\n    Settings.setModel(this.modelList.getSelected());\n  }\n\n  handleModelParametersUpdated() {\n    const value = this.modelParametersInput.value.trim();\n    if (value === '') {\n      return;\n    }\n    try {\n      const parsedValue = JSON.parse(value);\n      const prettyJSON = JSON.stringify(parsedValue, 2);\n      Settings.setModelParameters(parsedValue);\n      this.modelParametersInput.value = prettyJSON;\n      this.modelParametersInput.classList.remove('error');\n    } catch (error) {\n      if (error.name === 'SyntaxError') {\n        this.modelParametersInput.classList.add('error');\n      } else {\n        console.error(error);\n      }\n    }\n  }\n\n  handleUrlUpdated() {\n    const value = this.urlInput.value.trim();\n    Settings.setUrl(value);\n  }\n\n  show() {\n    this.loadSettings();\n    Models.load();\n    this.handleShow();\n  }\n\n  refreshModels() {\n    if (!Models.getUrl()) {\n      UINotification.show('Please update the URL in the settings to continue.');\n    } else {\n      Models.load();\n    }\n  }\n\n  loadSettings() {\n    this.modelList.setSelected(this.getSelected());\n    this.urlInput.value = Settings.getUrl();\n    const modelParameters = Settings.getModelParameters();\n    if (modelParameters) {\n      this.modelParametersInput.value = JSON.stringify(modelParameters, 2);\n    }\n  }\n}\n","// Modal base class\nexport class Modal {\n  constructor(options) {\n    this.domId = options.domId;\n    this.templateId = options.templateId;\n    this.modal = this.createDialogElement();\n    this.titleElement = this.modal.querySelector('.modal-title');\n    this.closeButton = this.modal.querySelector('.button-close');\n    this.closeButton.onclick = () => this.hide();\n    this._bindEventListeners();\n    this.setTitle(options.title);\n  }\n\n  setTitle(title) {\n    this.titleElement.textContent = title;\n  }\n\n  _bindEventListeners() {\n    this.modal.addEventListener('click', (event) => {\n      if (event.target == this.modal) {\n        this.hide();\n      }\n    });\n    window.addEventListener('keydown', (event) => {\n      if (event.key === 'Escape') {\n        this.hide();\n      }\n    });\n  }\n\n  createDialogElement() {\n    const template = document.getElementById(this.templateId);\n    if (!template) {\n      console.error(`Template with ID ${this.templateId} not found.`);\n      return;\n    }\n\n    const clone = template.content.cloneNode(true);\n    const modalElement = clone.firstElementChild;\n    modalElement.id = this.domId;\n\n    if (!modalElement) {\n      console.error(\n        `No modal element found in the template with ID ${this.templateId}.`,\n      );\n      return;\n    }\n\n    document.body.appendChild(modalElement);\n\n    return modalElement;\n  }\n\n  show() {\n    this.handleShow();\n  }\n\n  hide() {\n    this.handleHide();\n  }\n\n  handleShow() {\n    this.modal.classList.add('show');\n  }\n\n  handleHide() {\n    this.modal.classList.remove('show');\n  }\n}\n","import { FilteredList } from './FilteredList.js';\nimport { Event } from './Event.js';\nimport { Models } from './models/Models.js';\n\nexport class ModelsList extends FilteredList {\n  constructor(container) {\n    super(container, Models.getNames());\n    this.bindEventListeners();\n  }\n\n  bindEventListeners() {\n    Event.listen('modelsLoaded', this.handleModelsLoaded.bind(this));\n  }\n\n  handleModelsLoaded() {\n    this.setItems(Models.getNames());\n  }\n\n  static getModels() {\n    return Models.getNames();\n  }\n}\n","import { List } from './List.js';\nimport { DOM } from './DOM.js';\n\nexport class FilteredList extends List {\n  constructor(ul, items) {\n    super(ul, items); // Call the constructor of the parent class\n    this.div = document.createElement('small');\n    this.div.classList.add('hidden', 'p-2');\n    this.ul.prepend(this.div);\n    this.query = null;\n  }\n\n  escapeRegExp(string) {\n    return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // Escapes special characters\n  }\n\n  render() {\n    super.render();\n  }\n\n  selectFirst() {\n    alert(\n      document.querySelector('.chat-model-list li:not(.hidden)').textContent,\n    );\n  }\n\n  filter(searchTerm) {\n    this.query = searchTerm;\n    if (searchTerm === null || searchTerm === undefined) {\n      this.clearFilter();\n      this.filtered = false;\n      return null;\n    }\n    const query = this.escapeRegExp(searchTerm).replace(/\\s+/g, '.*');\n    const regex = new RegExp(query, 'i'); // 'i' for case-insensitive matching\n\n    // Loop through the list items\n    const matches = this.li\n      .map((listItemElement) => {\n        const text = listItemElement.textContent;\n        const match = regex.test(text);\n\n        if (match) {\n          DOM.showElement(listItemElement);\n          return text;\n        } else {\n          DOM.hideElement(listItemElement);\n          return null;\n        }\n      })\n      .filter((match) => match);\n    console.log(`Search ${query}. Matches: ${matches}`);\n\n    // Update text\n    DOM.showElement(this.div);\n    let message = null;\n    if (searchTerm.length < 1) {\n      message = `Continue typing to search models. Showing all models:`;\n    } else {\n      if (matches.length != 0) {\n        message = `Found ${matches.length} model(s) matching '${this.query}'. Click to change chat's model, or press tab to change prompt's model:`;\n      } else {\n        message = `Did not find any models that match '${this.query}'.`;\n      }\n    }\n    this.div.textContent = message;\n\n    return matches;\n  }\n\n  clearFilter() {\n    DOM.hideElement(this.div);\n    this.query = null;\n    this.li.forEach((listItemElement) => {\n      DOM.showElement(listItemElement);\n    });\n  }\n}\n","import { Event } from './Event.js';\nimport { UIElement } from './UIElement.js';\n\nexport class List extends UIElement {\n  constructor(ul, items) {\n    super(ul);\n    this.ul = ul;\n    this.items = items;\n    this.render();\n    this.clickHandler = null;\n    this.ul.classList.add('list');\n  }\n\n  onClick(handler) {\n    this.clickHandler = handler;\n    return this; // Allow chaining\n  }\n\n  setItems(items) {\n    this.items = items;\n    this.render();\n  }\n\n  setSelected(selected) {\n    console.debug(`Select ${selected}`);\n    this.selected = selected;\n    this.li.forEach((item) => {\n      if (item.textContent === selected) {\n        item.classList.add('selected');\n      } else {\n        item.classList.remove('selected');\n      }\n    });\n    Event.emit('select', selected, this.ul);\n  }\n\n  getSelected() {\n    return this.selected;\n  }\n\n  render() {\n    this.ul.innerHTML = ''; // Clear existing content\n    this.li = this.items.map((item) => {\n      const li = document.createElement('li');\n      li.classList.add('list-item');\n      if (item === this.selected) {\n        li.classList.add('selected');\n      }\n      li.textContent = item;\n      li.item = item;\n      li.addEventListener('click', () => {\n        this.setSelected(item);\n        if (this.clickHandler) {\n          this.clickHandler(item);\n        }\n      });\n      this.ul.appendChild(li);\n      return li;\n    });\n  }\n}\n","import { DOM } from './DOM.js';\n\nexport class UIElement {\n  constructor(element) {\n    this.element = element;\n  }\n\n  show() {\n    DOM.showElement(this.element);\n  }\n\n  hide() {\n    DOM.hideElement(this.element);\n  }\n}\n","export class DOM {\n  static showElement(element) {\n    element.classList.remove('hidden');\n    return this;\n  }\n\n  static hideElement(element) {\n    element.classList.add('hidden');\n    return this;\n  }\n\n  static enableInput(element) {\n    element.removeAttribute('disabled');\n    return this;\n  }\n\n  static disableInput(element) {\n    element.setAttribute('disabled', 'disabled');\n    return this;\n  }\n}\n","import { Event } from '../Event.js';\nimport { Settings } from './Settings.js';\nimport { OllamaApi } from '../OllamaApi.js';\n\nexport class Models {\n  // TODO: Get this from the settings?\n  static models = [];\n\n  static getUrl() {\n    return Settings.getUrl('/api/tags');\n  }\n\n  static load() {\n    if (!this.getUrl()) {\n      return null;\n    }\n    return OllamaApi.getModels(this.getUrl(), (models) => {\n      Models.models = models;\n      // Cache list of models\n      Settings.set('models', Models.models);\n      Event.emit('modelsLoaded', Models.models);\n    });\n  }\n\n  static getAll() {\n    return Settings.get('models');\n  }\n\n  static getNames() {\n    const models = this.getAll();\n    if (!models) {\n      return [];\n    }\n    return models.map((model) => model.name);\n  }\n\n  static findModelByName(name) {\n    return this.getAll().find((model) => model.name === name);\n  }\n}\n","import { AppController } from './AppController.js';\nimport { SettingsDialog } from './SettingsDialog.js';\nimport { Settings } from './models/Settings.js';\n\nexport class ChatSettingsDialog extends SettingsDialog {\n  constructor(options) {\n    super(options);\n  }\n\n  getSelected() {\n    return this.chat?.model;\n  }\n\n  async handleSystemPromptUpdated() {\n    this.chat.systemPrompt = this.systemPromptInput.value.trim();\n    await this.chat.save();\n  }\n\n  async handleModelUpdated() {\n    this.chat.model = this.modelList.getSelected();\n    await this.chat.save();\n  }\n\n  async handleModelParametersUpdated() {\n    this.chat.modelParameters = this.modelParametersInput.value.trim();\n    await this.chat.save();\n  }\n\n  async handleUrlUpdated() {\n    this.chat.url = this.urlInput.value.trim();\n    await this.chat.save();\n  }\n\n  loadSettings() {\n    AppController.getCurrentChat().then((chat) => {\n      this.modelList.setSelected(chat.model);\n      this.chat = chat;\n      this.urlInput.value = this.chat.url || Settings.getUrl();\n      const modelParameters =\n        this.chat.modelParameters || Settings.getModelParameters();\n      if (modelParameters) {\n        this.modelParametersInput.value = JSON.stringify(modelParameters, 2);\n      }\n    });\n  }\n}\n","import { UINotification } from './UINotification.js';\nimport { AppController } from './AppController.js';\nimport { AtSymbolListener } from './AtSymbolListener.js';\nimport { ExportChat } from './ExportChat.js';\nimport { Event } from './Event.js';\nimport { Hoverable } from './Hoverable.js';\nimport { ChatTitle } from './ChatTitle.js';\nimport { ChatForm } from './ChatForm.js';\nimport { ModelsList } from './ModelsList.js';\n\nexport class ChatArea {\n  constructor() {\n    this.chatTitle = new ChatTitle();\n    this.chatForm = new ChatForm();\n    this.chatHistory = document.getElementById('chat-history');\n    this.messageInput = document.getElementById('message-input');\n    this.editChatButton = document.getElementById('edit-chat-button');\n    this.chatModel = document.getElementById('chat-model');\n    this.modelName = this.chatModel.querySelector('.chat-model-name');\n    this.scrollToTopButton = document.getElementById('scroll-to-top-button');\n    this.scrollToEndButton = document.getElementById('scroll-to-end-button');\n    this.deleteChatButton = document.getElementById('delete-chat-button');\n    this.exportChatButton = document.getElementById('export-chat-button');\n    this.modelList = new ModelsList(\n      this.chatModel.querySelector('.chat-model-list'),\n    ).onClick(this.handleModelSelected.bind(this));\n    new AtSymbolListener(\n      this.messageInput,\n      this.modelList,\n      this.handleModelSelected.bind(this),\n    );\n    AppController.getCurrentChat().then((chat) => {\n      if (!chat) {\n        return;\n      }\n      this.chat = chat;\n      this.render();\n    });\n    this.bindEventListeners();\n  }\n\n  render() {\n    // Clear history view\n    this.chatHistory.innerText = '';\n    if (this.chat) {\n      // Show model name in \"talking to\"\n      this.modelName.textContent = this.chat.model;\n      // Update list of models\n      this.modelList.setSelected(this.chat.model);\n      this.chat // Render chat history\n        .getMessages()\n        .then((messages) => {\n          messages.forEach((message) => {\n            this.createMessageDiv(message);\n          });\n        });\n      this.scrollToEnd();\n    }\n    this.messageInput.focus();\n  }\n\n  bindEventListeners() {\n    Event.listen('chatSelected', this.handleChatSelected.bind(this));\n    Event.listen('chatDeleted', this.handleChatDeleted.bind(this));\n    this.scrollToTopButton.addEventListener(\n      'click',\n      this.scrollToTop.bind(this),\n    );\n    this.scrollToEndButton.addEventListener(\n      'click',\n      this.scrollToEnd.bind(this),\n    );\n    this.editChatButton.addEventListener(\n      'click',\n      this.handleEditChat.bind(this),\n    );\n    this.deleteChatButton.addEventListener(\n      'click',\n      this.handleDeleteChat.bind(this),\n    );\n    this.exportChatButton.addEventListener('click', () => {\n      ExportChat.exportChat(this.chat, `chat-${this.chat.id}.json`);\n    });\n    this.currentMessage = this.chatHistory.querySelector('.selected');\n    // Select chat message with arrow up and arrow down keys\n    document.addEventListener('keydown', (event) => {\n      let next, previous;\n\n      if (event.key === 'ArrowDown') {\n        next = this.currentMessage\n          ? this.currentMessage.nextElementSibling\n          : this.chatHistory.firstElementChild;\n        if (next) {\n          if (this.currentMessage)\n            this.currentMessage.classList.remove('hover');\n          next.classList.add('hover');\n          this.currentMessage = next; // Update currentMessage\n          this.currentMessage.scrollIntoView({\n            behavior: 'smooth',\n            block: 'nearest',\n          }); // Scroll into view\n        }\n      } else if (event.key === 'ArrowUp') {\n        previous = this.currentMessage\n          ? this.currentMessage.previousElementSibling\n          : this.chatHistory.lastElementChild;\n        if (previous) {\n          if (this.currentMessage)\n            this.currentMessage.classList.remove('hover');\n          previous.classList.add('hover');\n        }\n        this.currentMessage = previous; // Update currentMessage\n        this.currentMessage.scrollIntoView({\n          behavior: 'smooth',\n          block: 'nearest',\n        }); // Scroll into view\n      }\n    });\n  }\n\n  createMessageDiv(message) {\n    const domId = `chat-message-${message.id}`;\n    const role = message.role;\n    const content = message.content;\n    // Get the template and its content\n    const template = document.getElementById('chat-message-template');\n    const messageClone = template.content.cloneNode(true);\n    // Find the div and span elements within the cloned template\n    const messageDiv = messageClone.querySelector('.chat-message');\n    const textSpan = messageClone.querySelector('.chat-message-text');\n    const deleteButton = messageClone.querySelector(\n      '.delete-chat-message-button',\n    );\n    const copyButton = messageClone.querySelector(\n      '.copy-chat-message-button .copy-button',\n    );\n    const goodButton = messageClone.querySelector('.good-chat-message-button');\n    const badButton = messageClone.querySelector('.bad-chat-message-button');\n    const flagButton = messageClone.querySelector('.flag-chat-message-button');\n\n    if (message.quality == 'bad') {\n      badButton.classList.add('selected');\n    } else if (message.quality == 'good') {\n      goodButton.classList.add('selected');\n    } else if (message.quality == 'flagged') {\n      flagButton.classList.add('selected');\n    }\n\n    // Set the class for role and text content\n    messageDiv.classList.add(`${role}-chat-message`);\n    messageDiv.id = domId;\n    textSpan.textContent = content;\n    messageDiv.spellcheck = false;\n\n    // Append to chatHistory and adjust scroll\n    this.chatHistory.appendChild(messageDiv);\n    messageDiv.dataset['id'] = message.id;\n    new Hoverable(messageDiv);\n    deleteButton.addEventListener('click', async () => {\n      await AppController.deleteChatMessage(message.id);\n      messageDiv.remove();\n    });\n    copyButton.dataset['target'] = domId;\n    flagButton.addEventListener('click', async () => {\n      UINotification.show('Flagged message').autoDismiss();\n      message.quality = 'flagged';\n      await message.save();\n    });\n    goodButton.addEventListener('click', async () => {\n      UINotification.show('Marked message as good').autoDismiss();\n      message.quality = 'good';\n      await message.save();\n    });\n    badButton.addEventListener('click', async () => {\n      UINotification.show('Marked message as bad').autoDismiss();\n      message.quality = 'bad';\n      await message.save();\n    });\n    return { element: messageDiv, textElement: textSpan };\n  }\n\n  handleChatDeleted(chat) {\n    if (chat.id === this.chat?.id) {\n      this.chat = null;\n    } else {\n      this.chat = chat;\n    }\n    this.render();\n  }\n\n  async handleModelSelected(selected) {\n    const chat = await AppController.getCurrentChat();\n    this.modelName.textContent = selected;\n    AppController.updateChat(chat, { model: selected });\n  }\n\n  handleChatSelected(chat) {\n    this.chat = chat;\n    this.render();\n  }\n\n  handleEditChat() {\n    this.chatTitle.focus();\n    event.stopPropagation();\n  }\n\n  async handleDeleteChat() {\n    const chat = await AppController.getCurrentChat();\n    if (chat) {\n      await AppController.deleteChat(chat);\n    }\n  }\n\n  scrollToTop() {\n    this.chatHistory.scrollTop = 0;\n  }\n\n  scrollToEnd() {\n    this.chatHistory.scrollTop = this.chatHistory.scrollHeight;\n  }\n}\n","import { Event } from './Event.js';\n\nexport class AtSymbolListener {\n  constructor(input, target, onSelected) {\n    if (!target) {\n      throw Error('No target element specified');\n    }\n    this.active = false;\n    this.onSelected = onSelected;\n    this.input = input;\n    this.target = target;\n    this.bindEventListeners();\n  }\n\n  bindEventListeners() {\n    this.input.addEventListener('input', () => this.handleInput());\n    this.input.addEventListener('keydown', (e) => this.handleKeydown(e));\n    Event.listen('select', this.handleSelected.bind(this), this.ul);\n  }\n\n  handleInput() {\n    const text = this.getText();\n    const lastChar = text[text.length - 1];\n\n    // Handle show and hide using special characters\n    if (lastChar === '@') {\n      this.showTarget();\n    }\n\n    // Handle search if active\n    if (this.active) {\n      const searchTerm = this.getSearchTerm();\n      if (!this.target.filter(searchTerm)) {\n        // TODO: Show ”No matches” instead of hiding\n        this.hideTarget();\n      }\n    }\n  }\n\n  getText() {\n    return this.input.value.trim();\n  }\n\n  getSearchTerm() {\n    const text = this.getText();\n    const lastAtPos = text.lastIndexOf('@');\n    const query = lastAtPos !== -1 ? text.substring(lastAtPos + 1) : null;\n    return query;\n  }\n\n  handleKeydown(event) {\n    const key = event.key;\n\n    // Select first item on tab\n    if (event.which == 9 && this.active) {\n      this.target.selectFirst();\n      event.preventDefault();\n    } else if (key === ' ' || key === 'Enter' || key === 'Escape') {\n      this.hideTarget();\n    }\n  }\n\n  handleSelected(selected) {\n    if (selected === null || selected === undefined) {\n      return;\n    }\n    if (!this.active) {\n      return;\n    }\n    const text = this.getText();\n    const lastAtPos = text.lastIndexOf('@');\n    if (lastAtPos !== -1) {\n      this.input.value = text.substring(0, lastAtPos + 1) + selected;\n      this.input.focus();\n      this.input.setSelectionRange(\n        this.input.value.length,\n        this.input.value.length,\n      );\n      this.onSelected(selected);\n      this.hideTarget();\n    }\n  }\n\n  showTarget() {\n    this.active = true;\n    this.target.element.classList.add('active');\n    this.target.show();\n  }\n\n  hideTarget() {\n    this.active = false;\n    this.target.element.classList.remove('active');\n    this.target.hide();\n  }\n}\n","export class ExportChat {\n  static exportChat(chat, filename) {\n    // Get the contents of the element\n    const content = chat.jsonify();\n\n    // Create a Blob with the content\n    const blob = new Blob([content], { type: 'application/json' });\n\n    // Create an anchor element and set the href to the blob\n    const a = document.createElement('a');\n    a.href = URL.createObjectURL(blob);\n    a.download = filename;\n\n    // Append the anchor to the document, trigger a click, and then remove it\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n\n    // Revoke the blob URL\n    URL.revokeObjectURL(a.href);\n  }\n}\n","export class Hoverable {\n  constructor(element) {\n    this.element = element;\n    element.hoverable = this;\n    this.bindEventListeners();\n  }\n\n  bindEventListeners() {\n    this.element.addEventListener('mouseover', () => this.onMouseover());\n    this.element.addEventListener('mouseout', () => this.onMouseout());\n  }\n\n  onMouseover() {\n    this.element.classList.add('hover');\n  }\n\n  onMouseout() {\n    this.element.classList.remove('hover');\n  }\n}\n","import { Event } from './Event.js';\nimport { AppController } from './AppController.js';\n\nexport class ChatTitle {\n  constructor() {\n    this.defaultTitle = 'Untitled';\n    this.element = document.getElementById('chat-title');\n    this.bindEventListeners();\n    this.render();\n  }\n\n  render() {\n    AppController.getCurrentChat().then((chat) => {\n      this.chat = chat;\n      this.setTitle(chat?.title);\n    });\n  }\n\n  setTitle(title) {\n    this.element.textContent = title || this.defaultTitle;\n  }\n\n  focus() {\n    const hasFocus = document.activeElement === this.element;\n    if (!hasFocus) {\n      this.element.focus();\n    }\n  }\n\n  bindEventListeners() {\n    Event.listen('chatDeleted', this.handleChatDeleted.bind(this));\n    Event.listen('chatSelected', this.handleChatSelected.bind(this));\n    this.element.addEventListener('blur', this.handleSave.bind(this));\n    this.element.addEventListener('keypress', (e) => {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        this.element.blur();\n      }\n    });\n  }\n\n  handleChatSelected(chat) {\n    this.chat = chat;\n    this.setTitle(chat.title);\n  }\n\n  handleChatDeleted(chat) {\n    if (chat.id === this.chat.id) {\n      this.setTitle(this.defaultTitle);\n    }\n  }\n\n  async handleSave() {\n    let title = this.element.textContent.trim();\n    if (title.length === 0) {\n      title = this.defaultTitle;\n      this.element.classList.add('error');\n    } else {\n      this.element.classList.remove('error');\n    }\n    const chat = await AppController.getCurrentChat();\n    if (chat) {\n      await AppController.updateChat(chat, { title });\n    } else {\n      await AppController.createChat({ title });\n    }\n  }\n}\n","// TODO: Move code here from App.js and ChatArea.js\nexport class ChatForm {\n  constructor() {\n    this.chatHistory = document.getElementById('chat-history');\n    this.messageInput = document.getElementById('message-input');\n    this.sendButton = document.getElementById('send-button');\n    this.abortButton = document.getElementById('abort-button');\n  }\n}\n"],"names":[],"version":3,"file":"index.4de9b498.js.map","sourceRoot":"/__parcel_source_root/"}